<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ÄÄƒng kÃ½ tÃ i khoáº£n</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="auth-container">
      <h2>ğŸ“ ÄÄƒng kÃ½</h2>
      <input type="text" id="register-username" placeholder="TÃªn Ä‘Äƒng nháº­p" />
      <input type="text" id="register-phone" placeholder="Sá»‘ Ä‘iá»‡n thoáº¡i" />
      <input type="password" id="register-password" placeholder="Máº­t kháº©u" />
      <input
        type="password"
        id="register-password-confirm"
        placeholder="Nháº­p láº¡i máº­t kháº©u"
      />
      <button onclick="register()">ÄÄƒng kÃ½</button>
      <p id="register-message"></p>
      <p>Báº¡n Ä‘Ã£ cÃ³ tÃ i khoáº£n? <a href="dang_nhap.html">ÄÄƒng nháº­p ngay</a></p>
    </div>

    <script>
      function register() {
        const username = document
          .getElementById("register-username")
          .value.trim();
        const phone = document.getElementById("register-phone").value.trim();
        const password = document
          .getElementById("register-password")
          .value.trim();
        const passwordConfirm = document
          .getElementById("register-password-confirm")
          .value.trim();
        const message = document.getElementById("register-message");

        if (!username || !phone || !password || !passwordConfirm) {
          message.textContent = "Vui lÃ²ng nháº­p Ä‘áº§y Ä‘á»§ thÃ´ng tin!";
          message.style.color = "red";
          return;
        }

        const phoneRegex = /^\d{9,11}$/;
        if (!phoneRegex.test(phone)) {
          message.textContent = "Sá»‘ Ä‘iá»‡n thoáº¡i khÃ´ng há»£p lá»‡ (10 chá»¯ sá»‘)!";
          message.style.color = "red";
          return;
        }

        if (password !== passwordConfirm) {
          message.textContent = "Máº­t kháº©u nháº­p láº¡i khÃ´ng khá»›p!";
          message.style.color = "red";
          return;
        }

        if (localStorage.getItem(username)) {
          message.textContent = "TÃ i khoáº£n Ä‘Ã£ tá»“n táº¡i!";
          message.style.color = "red";
          return;
        }

        const userData = {
          phone: phone,
          password: password,
        };

        localStorage.setItem(username, JSON.stringify(userData));

        message.style.color = "green";
        message.textContent =
          "ÄÄƒng kÃ½ thÃ nh cÃ´ng! Äang chuyá»ƒn sang Ä‘Äƒng nháº­p...";

        setTimeout(() => {
          window.location.href = "dang_nhap.html";
        }, 1500);
      }
    </script>
  </body>
</html>
